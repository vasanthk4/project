<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>SHARE MARKET</title>
        <link rel="stylesheet" href="../style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;400;600;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <section class="stock">
            <nav>
                <a href="/"><img src="../img/img1.jpg" alt=""></a>
                <div class="button">
                    <ul>
                        <li><a href="/history">HISTORY</a></li>
                        <li><a href="/portfolio">PORTFOLIO</a></li>
                        <li><a href="/payment">PAYMENT</a></li>
                        <li><a href="/stock">STOCKS</a></li> 
                        <li><a href="/login">LOGOUT</a></li> 
                            
                     </ul>
                    </div>
               
            </nav>
            <h1>STOCKS</h1>
            <div class="flex">
                <div class="stockbuy" id="stockbuy">
                    <p>BUY</p>
                </div> 
    
                    <!-- <div class="stocksell">
                        <p>SELL</p><a href="mrf.html">1. MRF Limited</a>
                        <br>
                        <a href="britannia.html">2. Britannia Industries Limited</a>
                        <br>
                        <a href="tata.html">3. Tata Motors Limited</a>
                        <br>
                        <a href="asian.html">4. Asian Paints Limited</a>
                        <br>
                        <a href="sbi.html">5. State Bank Of India</a>
                        <br>
                        <a href="wipro.html">6. Wipro Limited</a>
                        <br>
                        <a href="adani.html">7. Adani Power Limited</a>
                        <br>
                        <a href="tcs.html">8. Tata Consultancy Services Limited</a>
                        <br>
                
                    </div> -->
                </div>
            </section>
            <script src="http://unpkg.com/axios/dist/axios.min.js"></script>       
            <script>
                axios.get("http://localhost:8080/api/allStocks", {headers: {"Access-Control-Allow-Origin": "*", "Content-Type": "application/json"}})
                    .then((resp) => {
                        const stockbuy = document.getElementById('stockbuy')
                        if(Array.isArray(resp.data)) {
                            resp.data.forEach((e, index) => {
                                console.log(e)
                                const stock = document.createElement('div')
                                const a = document.createElement('a')
                                a.href = "/stocks?stock='"+e.stockname+"'";
                                a.innerText = (index + 1) + " " + ". " + e.stockname
                                stock.appendChild(a)
                                stock.appendChild(document.createElement('br'))

                                stockbuy.appendChild(stock)
                            });
                        }
                    })
                    .catch((err) => {console.log(err)})
            </script>
    </body>
</html>
