<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>SHARE MARKET</title>
        <link rel="stylesheet" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" href="../adminpages.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;400;600;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="side-menu">
         <div class="stock-name">
           <h1>GET STOCKS</h1>
         </div>
         <ul>
             <li><a href="/admin">Dashboard</a></li>
             <li><a href="/admin/users">Users</a></li>
             <li><a href="/admin/stocks">Stocks</a></li>
             <li><a href="/admin/payments">Payments</a></li>
        </ul>
        </div> 
        <div class="content">
            <div>
                <div class="header">
                    Users
                </div>

                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">ID</th>
                            <th scope="col">Username</th>
                            <th scope="col">Email</th>
                            <th scope="col">Phone Number</th>
                        </tr>
                    </thead>
                    <tbody id="table-rows">
    
                    </tbody>
                </table>
            </div>
        </div>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            const tableRows = document.getElementById('table-rows')
            
            axios.get('http://localhost:8080/api/allUsers')
                .then( res => {
                    res.data.forEach((row, index) => {
                        const rowElement = document.createElement('tr')
                        const num = document.createElement('td')
                        const username = document.createElement('td')
                        const email = document.createElement('td')
                        const phno = document.createElement('td')
                        const id = document.createElement('td')

                        num.innerText = index + 1
                        id.innerText = row.id
                        username.innerText = row.username
                        email.innerText = row.email
                        phno.innerText = row.phno

                        rowElement.appendChild(num)
                        rowElement.appendChild(id)
                        rowElement.appendChild(username)
                        rowElement.appendChild(email)
                        rowElement.appendChild(phno)

                        tableRows.appendChild(rowElement)
                    })
                })
                .catch( err => console.log(err))
        </script>
    </body>
</html>